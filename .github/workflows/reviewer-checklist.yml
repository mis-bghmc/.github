name: "Auto-Post Review Checklist"

on:
  pull_request:
    types: [assigned]

jobs:
  post-checklist:
    runs-on: ubuntu-latest
    # Only run if a reviewer was assigned
    if: github.event.pull_request.requested_reviewers != ''
    steps:
      - name: Post Reviewer Checklist
        uses: mshick/add-pr-comment@v2
        with:
          message: |
            ## ğŸ•µï¸ Reviewer Audit Report
            *Assigned Reviewer: @${{ github.event.pull_request.requested_reviewers[0].login }}*

            ### ğŸš© Critical Quality Gates
            - [ ] **Functional Parity:** Does it satisfy the Jira ticket requirements?
            - [ ] **Logic & Edge Cases:** Verified handling for `null`, `undefined`, and error states.
            - [ ] **No Regressions:** Confirmed this doesn't break Analytics/Tabs.
            - [ ] **Test Integrity:** New tests are meaningful and CI checks pass.

            ### ğŸ” Technical Deep-Dive
            - [ ] Logic is DRY and modular.
            - [ ] Layout is responsive (mobile/desktop).
            - [ ] No memory leaks (Highcharts destroyed on unmount).
            - [ ] Sensitive data is sanitized; no PII logged.

            ---
            *Please complete this checklist before approving the PR.*